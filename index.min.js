!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(){var e=document.querySelector("#name"),r=document.querySelector('label[for="preferred-name"]'),n=document.querySelector('span.input-sizer[data-field="preferred-name"]'),u=document.querySelector("#preferred-name");if(e.value&&""!==e.value){var a=e.value.split(/\s/);u.value=a[0],n.innerText=a[0],"false"===r.getAttribute("data-active")?setTimeout((function(){r.setAttribute("data-active","true")}),1500):r.setAttribute("data-active","true")}else r.setAttribute("data-active","false"),u.value="",n.innerText="";t()}function t(){var e=document.querySelector('span.input-sizer[data-field="preferred-name"]');document.querySelector("#preferred-name").style.width="".concat(e.offsetWidth+15,"px")}e(),t(),document.querySelector("#name").addEventListener("keyup",e),document.querySelector("#preferred-name").addEventListener("keyup",(function(e){document.querySelector('span.input-sizer[data-field="preferred-name"]').innerText=e.target.value,t()})),document.querySelector("#subscribe").addEventListener("submit",(function(e){var t,r,n,u,a;e.preventDefault(),t=e.target,r=t.querySelector("#name").value,n=t.querySelector("#email").value,u=t.querySelector("#preferred-name").value,(a=document.querySelector("#status")).setAttribute("class","subscribing"),a.innerText="Subscribing...",fetch(".netlify/functions/subscribe",{body:JSON.stringify({name:r,email:n,preferredName:u}),method:"POST"}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=e.message,r="";1==e.success?(t="ðŸŽ‰ Subscribed! Talk to you soon.",r="success"):[{sendyText:"Already subscribed",type:"info",text:"You're already subscribed! Thanks for reading."}].forEach((function(n){e.message.includes(n.sendyText)&&(t=n.text,r=n.type)})),a.innerText=t,a.setAttribute("class",r)}))}))}));
//# sourceMappingURL=index.min.js.map